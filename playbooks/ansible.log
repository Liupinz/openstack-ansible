2018-04-26 19:04:35,495 p=31792 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:04:35,591 p=31792 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:04:35,591 p=31792 u=root |  Thursday 26 April 2018  19:04:35 +0800 (0:00:00.102)       0:00:00.102 ******** 
2018-04-26 19:04:35,592 p=31792 u=root |  =============================================================================== 
2018-04-26 19:05:05,947 p=31817 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:05:06,095 p=31817 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:05:06,096 p=31817 u=root |  Thursday 26 April 2018  19:05:06 +0800 (0:00:00.157)       0:00:00.157 ******** 
2018-04-26 19:05:06,096 p=31817 u=root |  =============================================================================== 
2018-04-26 19:07:23,006 p=31893 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:07:23,060 p=31893 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-26 19:07:23,060 p=31893 u=root |  Thursday 26 April 2018  19:07:23 +0800 (0:00:00.059)       0:00:00.059 ******** 
2018-04-26 19:07:33,901 p=31893 u=root |  changed: [controller]
2018-04-26 19:07:33,908 p=31893 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-26 19:07:33,909 p=31893 u=root |  Thursday 26 April 2018  19:07:33 +0800 (0:00:10.848)       0:00:10.908 ******** 
2018-04-26 19:07:34,735 p=31893 u=root |  changed: [controller] => (item=localhost)
2018-04-26 19:07:35,108 p=31893 u=root |  changed: [controller] => (item=%)
2018-04-26 19:07:35,114 p=31893 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-26 19:07:35,115 p=31893 u=root |  Thursday 26 April 2018  19:07:35 +0800 (0:00:01.205)       0:00:12.114 ******** 
2018-04-26 19:07:36,565 p=31893 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-26 19:07:36,571 p=31893 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-26 19:07:36,572 p=31893 u=root |  Thursday 26 April 2018  19:07:36 +0800 (0:00:01.456)       0:00:13.571 ******** 
2018-04-26 19:07:37,288 p=31893 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-26 19:07:37,611 p=31893 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-26 19:07:37,615 p=31893 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-26 19:07:37,616 p=31893 u=root |  Thursday 26 April 2018  19:07:37 +0800 (0:00:01.044)       0:00:14.615 ******** 
2018-04-26 19:07:40,549 p=31893 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": "su -s /bin/sh -c \"keystone-manage db_sync\" keystone", "delta": "0:00:02.286669", "end": "2018-04-26 19:08:03.298739", "failed": true, "rc": 1, "start": "2018-04-26 19:08:01.012070", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-26 19:07:40,556 p=31893 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-26 19:07:40,557 p=31893 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:07:40,557 p=31893 u=root |  controller                 : ok=4    changed=3    unreachable=0    failed=1   
2018-04-26 19:07:40,558 p=31893 u=root |  Thursday 26 April 2018  19:07:40 +0800 (0:00:02.942)       0:00:17.557 ******** 
2018-04-26 19:07:40,559 p=31893 u=root |  =============================================================================== 
2018-04-26 19:07:40,560 p=31893 u=root |  Identity : create keystone database ------------------------------------ 10.85s
2018-04-26 19:07:40,560 p=31893 u=root |  Identity : populate the identity service -------------------------------- 2.94s
2018-04-26 19:07:40,560 p=31893 u=root |  Identity : Install packages --------------------------------------------- 1.46s
2018-04-26 19:07:40,561 p=31893 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.21s
2018-04-26 19:07:40,561 p=31893 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.04s
2018-04-26 19:09:23,949 p=31990 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:09:24,003 p=31990 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-26 19:09:24,003 p=31990 u=root |  Thursday 26 April 2018  19:09:24 +0800 (0:00:00.059)       0:00:00.059 ******** 
2018-04-26 19:09:34,776 p=31990 u=root |  ok: [controller]
2018-04-26 19:09:34,782 p=31990 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-26 19:09:34,782 p=31990 u=root |  Thursday 26 April 2018  19:09:34 +0800 (0:00:10.778)       0:00:10.838 ******** 
2018-04-26 19:09:35,575 p=31990 u=root |  ok: [controller] => (item=localhost)
2018-04-26 19:09:35,941 p=31990 u=root |  ok: [controller] => (item=%)
2018-04-26 19:09:35,947 p=31990 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-26 19:09:35,948 p=31990 u=root |  Thursday 26 April 2018  19:09:35 +0800 (0:00:01.164)       0:00:12.003 ******** 
2018-04-26 19:09:37,345 p=31990 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-26 19:09:37,355 p=31990 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-26 19:09:37,356 p=31990 u=root |  Thursday 26 April 2018  19:09:37 +0800 (0:00:01.407)       0:00:13.411 ******** 
2018-04-26 19:09:38,144 p=31990 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-26 19:09:38,465 p=31990 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-26 19:09:38,471 p=31990 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-26 19:09:38,472 p=31990 u=root |  Thursday 26 April 2018  19:09:38 +0800 (0:00:01.116)       0:00:14.528 ******** 
2018-04-26 19:09:40,814 p=31990 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": "su -s /bin/sh -c \"keystone-manage db_sync\" keystone", "delta": "0:00:01.715961", "end": "2018-04-26 19:10:03.576644", "failed": true, "rc": 1, "start": "2018-04-26 19:10:01.860683", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-26 19:09:40,820 p=31990 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-26 19:09:40,821 p=31990 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:09:40,822 p=31990 u=root |  controller                 : ok=4    changed=1    unreachable=0    failed=1   
2018-04-26 19:09:40,822 p=31990 u=root |  Thursday 26 April 2018  19:09:40 +0800 (0:00:02.350)       0:00:16.878 ******** 
2018-04-26 19:09:40,823 p=31990 u=root |  =============================================================================== 
2018-04-26 19:09:40,823 p=31990 u=root |  Identity : create keystone database ------------------------------------ 10.78s
2018-04-26 19:09:40,824 p=31990 u=root |  Identity : populate the identity service -------------------------------- 2.35s
2018-04-26 19:09:40,825 p=31990 u=root |  Identity : Install packages --------------------------------------------- 1.41s
2018-04-26 19:09:40,825 p=31990 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.17s
2018-04-26 19:09:40,826 p=31990 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.12s
2018-04-26 19:22:45,465 p=32093 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:22:45,518 p=32093 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-26 19:22:45,518 p=32093 u=root |  Thursday 26 April 2018  19:22:45 +0800 (0:00:00.058)       0:00:00.059 ******** 
2018-04-26 19:22:56,227 p=32093 u=root |  ok: [controller]
2018-04-26 19:22:56,231 p=32093 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-26 19:22:56,232 p=32093 u=root |  Thursday 26 April 2018  19:22:56 +0800 (0:00:10.713)       0:00:10.772 ******** 
2018-04-26 19:22:57,086 p=32093 u=root |  ok: [controller] => (item=localhost)
2018-04-26 19:22:57,473 p=32093 u=root |  ok: [controller] => (item=%)
2018-04-26 19:22:57,477 p=32093 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-26 19:22:57,478 p=32093 u=root |  Thursday 26 April 2018  19:22:57 +0800 (0:00:01.246)       0:00:12.018 ******** 
2018-04-26 19:22:58,935 p=32093 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-26 19:22:58,941 p=32093 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-26 19:22:58,941 p=32093 u=root |  Thursday 26 April 2018  19:22:58 +0800 (0:00:01.463)       0:00:13.482 ******** 
2018-04-26 19:22:59,787 p=32093 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-26 19:23:00,161 p=32093 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-26 19:23:00,165 p=32093 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-26 19:23:00,166 p=32093 u=root |  Thursday 26 April 2018  19:23:00 +0800 (0:00:01.224)       0:00:14.706 ******** 
2018-04-26 19:23:02,318 p=32093 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "keystone-manage db_sync", "keystone"], "delta": "0:00:01.477395", "end": "2018-04-26 19:23:25.098101", "failed": true, "rc": 1, "start": "2018-04-26 19:23:23.620706", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-26 19:23:02,323 p=32093 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-26 19:23:02,323 p=32093 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:23:02,323 p=32093 u=root |  controller                 : ok=4    changed=1    unreachable=0    failed=1   
2018-04-26 19:23:02,324 p=32093 u=root |  Thursday 26 April 2018  19:23:02 +0800 (0:00:02.158)       0:00:16.864 ******** 
2018-04-26 19:23:02,324 p=32093 u=root |  =============================================================================== 
2018-04-26 19:23:02,325 p=32093 u=root |  Identity : create keystone database ------------------------------------ 10.71s
2018-04-26 19:23:02,325 p=32093 u=root |  Identity : populate the identity service -------------------------------- 2.16s
2018-04-26 19:23:02,325 p=32093 u=root |  Identity : Install packages --------------------------------------------- 1.46s
2018-04-26 19:23:02,326 p=32093 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.25s
2018-04-26 19:23:02,326 p=32093 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.22s
2018-04-26 19:33:39,008 p=32185 u=root |  PLAY [install openstack] *******************************************************
2018-04-26 19:33:39,061 p=32185 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-26 19:33:39,062 p=32185 u=root |  Thursday 26 April 2018  19:33:39 +0800 (0:00:00.059)       0:00:00.059 ******** 
2018-04-26 19:33:49,760 p=32185 u=root |  ok: [controller]
2018-04-26 19:33:49,764 p=32185 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-26 19:33:49,764 p=32185 u=root |  Thursday 26 April 2018  19:33:49 +0800 (0:00:10.702)       0:00:10.762 ******** 
2018-04-26 19:33:50,541 p=32185 u=root |  ok: [controller] => (item=localhost)
2018-04-26 19:33:50,903 p=32185 u=root |  ok: [controller] => (item=%)
2018-04-26 19:33:50,907 p=32185 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-26 19:33:50,908 p=32185 u=root |  Thursday 26 April 2018  19:33:50 +0800 (0:00:01.143)       0:00:11.905 ******** 
2018-04-26 19:33:52,228 p=32185 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-26 19:33:52,233 p=32185 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-26 19:33:52,233 p=32185 u=root |  Thursday 26 April 2018  19:33:52 +0800 (0:00:01.324)       0:00:13.230 ******** 
2018-04-26 19:33:52,947 p=32185 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-26 19:33:53,276 p=32185 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-26 19:33:53,280 p=32185 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-26 19:33:53,280 p=32185 u=root |  Thursday 26 April 2018  19:33:53 +0800 (0:00:01.047)       0:00:14.278 ******** 
2018-04-26 19:33:55,389 p=32185 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "keystone-manage db_sync", "keystone"], "delta": "0:00:01.429435", "end": "2018-04-26 19:34:18.133714", "failed": true, "failed_when_result": true, "rc": 1, "start": "2018-04-26 19:34:16.704279", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-26 19:33:55,394 p=32185 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-26 19:33:55,394 p=32185 u=root |  PLAY RECAP *********************************************************************
2018-04-26 19:33:55,395 p=32185 u=root |  controller                 : ok=4    changed=1    unreachable=0    failed=1   
2018-04-26 19:33:55,395 p=32185 u=root |  Thursday 26 April 2018  19:33:55 +0800 (0:00:02.114)       0:00:16.392 ******** 
2018-04-26 19:33:55,395 p=32185 u=root |  =============================================================================== 
2018-04-26 19:33:55,396 p=32185 u=root |  Identity : create keystone database ------------------------------------ 10.70s
2018-04-26 19:33:55,396 p=32185 u=root |  Identity : populate the identity service -------------------------------- 2.11s
2018-04-26 19:33:55,397 p=32185 u=root |  Identity : Install packages --------------------------------------------- 1.32s
2018-04-26 19:33:55,397 p=32185 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.14s
2018-04-26 19:33:55,397 p=32185 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.05s
2018-04-27 09:09:33,744 p=32557 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 09:09:33,799 p=32557 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-27 09:09:33,800 p=32557 u=root |  Friday 27 April 2018  09:09:33 +0800 (0:00:00.061)       0:00:00.061 ********** 
2018-04-27 09:09:44,511 p=32557 u=root |  ok: [controller]
2018-04-27 09:09:44,516 p=32557 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-27 09:09:44,516 p=32557 u=root |  Friday 27 April 2018  09:09:44 +0800 (0:00:10.716)       0:00:10.777 ********** 
2018-04-27 09:09:45,318 p=32557 u=root |  ok: [controller] => (item=localhost)
2018-04-27 09:09:45,690 p=32557 u=root |  ok: [controller] => (item=%)
2018-04-27 09:09:45,697 p=32557 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-27 09:09:45,697 p=32557 u=root |  Friday 27 April 2018  09:09:45 +0800 (0:00:01.180)       0:00:11.958 ********** 
2018-04-27 09:09:47,126 p=32557 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-27 09:09:47,131 p=32557 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-27 09:09:47,132 p=32557 u=root |  Friday 27 April 2018  09:09:47 +0800 (0:00:01.434)       0:00:13.393 ********** 
2018-04-27 09:09:47,831 p=32557 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-27 09:09:48,204 p=32557 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-27 09:09:48,210 p=32557 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 09:09:48,211 p=32557 u=root |  Friday 27 April 2018  09:09:48 +0800 (0:00:01.078)       0:00:14.471 ********** 
2018-04-27 09:09:50,688 p=32557 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "keystone-manage db_sync", "keystone"], "delta": "0:00:01.735279", "end": "2018-04-27 09:10:14.391421", "failed": true, "failed_when_result": true, "rc": 1, "start": "2018-04-27 09:10:12.656142", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-27 09:09:50,693 p=32557 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 09:09:50,694 p=32557 u=root |  PLAY RECAP *********************************************************************
2018-04-27 09:09:50,694 p=32557 u=root |  controller                 : ok=4    changed=1    unreachable=0    failed=1   
2018-04-27 09:09:50,695 p=32557 u=root |  Friday 27 April 2018  09:09:50 +0800 (0:00:02.484)       0:00:16.956 ********** 
2018-04-27 09:09:50,695 p=32557 u=root |  =============================================================================== 
2018-04-27 09:09:50,696 p=32557 u=root |  Identity : create keystone database ------------------------------------ 10.72s
2018-04-27 09:09:50,696 p=32557 u=root |  Identity : populate the identity service -------------------------------- 2.48s
2018-04-27 09:09:50,696 p=32557 u=root |  Identity : Install packages --------------------------------------------- 1.43s
2018-04-27 09:09:50,696 p=32557 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.18s
2018-04-27 09:09:50,697 p=32557 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.08s
2018-04-27 16:45:51,085 p=776 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 16:45:51,139 p=776 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-27 16:45:51,139 p=776 u=root |  Friday 27 April 2018  16:45:51 +0800 (0:00:00.059)       0:00:00.059 ********** 
2018-04-27 16:46:01,780 p=776 u=root |  ok: [controller]
2018-04-27 16:46:01,784 p=776 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-27 16:46:01,784 p=776 u=root |  Friday 27 April 2018  16:46:01 +0800 (0:00:10.644)       0:00:10.704 ********** 
2018-04-27 16:46:02,703 p=776 u=root |  ok: [controller] => (item=localhost)
2018-04-27 16:46:03,049 p=776 u=root |  ok: [controller] => (item=%)
2018-04-27 16:46:03,053 p=776 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-27 16:46:03,054 p=776 u=root |  Friday 27 April 2018  16:46:03 +0800 (0:00:01.269)       0:00:11.973 ********** 
2018-04-27 16:46:04,478 p=776 u=root |  ok: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-27 16:46:04,485 p=776 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-27 16:46:04,486 p=776 u=root |  Friday 27 April 2018  16:46:04 +0800 (0:00:01.431)       0:00:13.405 ********** 
2018-04-27 16:46:05,186 p=776 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-27 16:46:05,511 p=776 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-27 16:46:05,516 p=776 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 16:46:05,518 p=776 u=root |  Friday 27 April 2018  16:46:05 +0800 (0:00:01.031)       0:00:14.437 ********** 
2018-04-27 16:46:08,042 p=776 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "keystone-manage db_sync", "keystone"], "delta": "0:00:01.836894", "end": "2018-04-27 16:46:32.283477", "failed": true, "failed_when_result": true, "rc": 1, "start": "2018-04-27 16:46:30.446583", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-27 16:46:08,045 p=776 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 16:46:08,045 p=776 u=root |  PLAY RECAP *********************************************************************
2018-04-27 16:46:08,046 p=776 u=root |  controller                 : ok=4    changed=1    unreachable=0    failed=1   
2018-04-27 16:46:08,046 p=776 u=root |  Friday 27 April 2018  16:46:08 +0800 (0:00:02.528)       0:00:16.966 ********** 
2018-04-27 16:46:08,046 p=776 u=root |  =============================================================================== 
2018-04-27 16:46:08,047 p=776 u=root |  Identity : create keystone database ------------------------------------ 10.65s
2018-04-27 16:46:08,047 p=776 u=root |  Identity : populate the identity service -------------------------------- 2.53s
2018-04-27 16:46:08,047 p=776 u=root |  Identity : Install packages --------------------------------------------- 1.43s
2018-04-27 16:46:08,048 p=776 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.27s
2018-04-27 16:46:08,048 p=776 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.03s
2018-04-27 17:32:35,690 p=1011 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:32:35,762 p=1011 u=root |  TASK [Environment : set hostname] **********************************************
2018-04-27 17:32:35,762 p=1011 u=root |  Friday 27 April 2018  17:32:35 +0800 (0:00:00.076)       0:00:00.076 ********** 
2018-04-27 17:32:54,218 p=1011 u=root |  fatal: [controller]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to the remote host. Make sure this host can be reached over ssh", "unreachable": true}
2018-04-27 17:32:54,228 p=1011 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:32:54,229 p=1011 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:32:54,229 p=1011 u=root |  controller                 : ok=0    changed=0    unreachable=1    failed=0   
2018-04-27 17:32:54,230 p=1011 u=root |  Friday 27 April 2018  17:32:54 +0800 (0:00:18.467)       0:00:18.543 ********** 
2018-04-27 17:32:54,230 p=1011 u=root |  =============================================================================== 
2018-04-27 17:32:54,230 p=1011 u=root |  Environment : set hostname --------------------------------------------- 18.47s
2018-04-27 17:33:21,091 p=1065 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:33:21,157 p=1065 u=root |  TASK [Environment : set hostname] **********************************************
2018-04-27 17:33:21,158 p=1065 u=root |  Friday 27 April 2018  17:33:21 +0800 (0:00:00.070)       0:00:00.070 ********** 
2018-04-27 17:33:24,947 p=1065 u=root |  fatal: [controller]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to the remote host. Make sure this host can be reached over ssh", "unreachable": true}
2018-04-27 17:33:24,951 p=1065 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:33:24,951 p=1065 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:33:24,952 p=1065 u=root |  controller                 : ok=0    changed=0    unreachable=1    failed=0   
2018-04-27 17:33:24,952 p=1065 u=root |  Friday 27 April 2018  17:33:24 +0800 (0:00:03.794)       0:00:03.864 ********** 
2018-04-27 17:33:24,952 p=1065 u=root |  =============================================================================== 
2018-04-27 17:33:24,953 p=1065 u=root |  Environment : set hostname ---------------------------------------------- 3.79s
2018-04-27 17:35:25,546 p=1155 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:35:25,693 p=1155 u=root |  TASK [Environment : set hostname] **********************************************
2018-04-27 17:35:25,694 p=1155 u=root |  Friday 27 April 2018  17:35:25 +0800 (0:00:00.156)       0:00:00.156 ********** 
2018-04-27 17:35:29,358 p=1155 u=root |  fatal: [controller]: UNREACHABLE! => {"changed": false, "msg": "SSH Error: data could not be sent to the remote host. Make sure this host can be reached over ssh", "unreachable": true}
2018-04-27 17:35:29,362 p=1155 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:35:29,363 p=1155 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:35:29,363 p=1155 u=root |  controller                 : ok=0    changed=0    unreachable=1    failed=0   
2018-04-27 17:35:29,364 p=1155 u=root |  Friday 27 April 2018  17:35:29 +0800 (0:00:03.669)       0:00:03.826 ********** 
2018-04-27 17:35:29,364 p=1155 u=root |  =============================================================================== 
2018-04-27 17:35:29,365 p=1155 u=root |  Environment : set hostname ---------------------------------------------- 3.67s
2018-04-27 17:36:05,843 p=1227 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:36:05,936 p=1227 u=root |  TASK [Environment : set hostname] **********************************************
2018-04-27 17:36:05,937 p=1227 u=root |  Friday 27 April 2018  17:36:05 +0800 (0:00:00.100)       0:00:00.100 ********** 
2018-04-27 17:36:17,136 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:17,140 p=1227 u=root |  TASK [Environment : add host file] *********************************************
2018-04-27 17:36:17,141 p=1227 u=root |  Friday 27 April 2018  17:36:17 +0800 (0:00:11.203)       0:00:11.304 ********** 
2018-04-27 17:36:17,861 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:17,865 p=1227 u=root |  TASK [Environment : install chrony] ********************************************
2018-04-27 17:36:17,866 p=1227 u=root |  Friday 27 April 2018  17:36:17 +0800 (0:00:00.725)       0:00:12.029 ********** 
2018-04-27 17:36:34,747 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:34,755 p=1227 u=root |  TASK [Environment : change the /etc/chrony.conf file] **************************
2018-04-27 17:36:34,756 p=1227 u=root |  Friday 27 April 2018  17:36:34 +0800 (0:00:16.889)       0:00:28.919 ********** 
2018-04-27 17:36:35,228 p=1227 u=root |  changed: [controller] => (item={u'regexp': u'server 0.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 17:36:35,521 p=1227 u=root |  changed: [controller] => (item={u'regexp': u'server 1.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 17:36:35,870 p=1227 u=root |  changed: [controller] => (item={u'regexp': u'server 2.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 17:36:36,190 p=1227 u=root |  changed: [controller] => (item={u'regexp': u'server 3.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 17:36:36,197 p=1227 u=root |  TASK [Environment : change the /etc/chrony.conf file] **************************
2018-04-27 17:36:36,198 p=1227 u=root |  Friday 27 April 2018  17:36:36 +0800 (0:00:01.441)       0:00:30.361 ********** 
2018-04-27 17:36:36,612 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:36,617 p=1227 u=root |  TASK [Environment : restart NTP] ***********************************************
2018-04-27 17:36:36,618 p=1227 u=root |  Friday 27 April 2018  17:36:36 +0800 (0:00:00.419)       0:00:30.781 ********** 
2018-04-27 17:36:38,437 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:38,442 p=1227 u=root |  TASK [Environment : install centos-release-openstack-newton] *******************
2018-04-27 17:36:38,443 p=1227 u=root |  Friday 27 April 2018  17:36:38 +0800 (0:00:01.824)       0:00:32.606 ********** 
2018-04-27 17:36:42,199 p=1227 u=root |  changed: [controller]
2018-04-27 17:36:42,203 p=1227 u=root |  TASK [Environment : start openstack storehouse and install openstack client,openstack-selinux] ***
2018-04-27 17:36:42,203 p=1227 u=root |  Friday 27 April 2018  17:36:42 +0800 (0:00:03.760)       0:00:36.367 ********** 
2018-04-27 17:42:07,840 p=1227 u=root |  changed: [controller] => (item=[u'python-openstackclient', u'openstack-selinux'])
2018-04-27 17:42:07,847 p=1227 u=root |  TASK [Environment : install sql] ***********************************************
2018-04-27 17:42:07,847 p=1227 u=root |  Friday 27 April 2018  17:42:07 +0800 (0:05:25.643)       0:06:02.011 ********** 
2018-04-27 17:42:55,698 p=1227 u=root |  changed: [controller] => (item=[u'mariadb', u'mariadb-server', u'python2-PyMySQL'])
2018-04-27 17:42:55,708 p=1227 u=root |  TASK [Environment : add mariadb_openstack.cnf file] ****************************
2018-04-27 17:42:55,708 p=1227 u=root |  Friday 27 April 2018  17:42:55 +0800 (0:00:47.860)       0:06:49.872 ********** 
2018-04-27 17:42:57,243 p=1227 u=root |  changed: [controller]
2018-04-27 17:42:57,248 p=1227 u=root |  TASK [Environment : restart mariadb] *******************************************
2018-04-27 17:42:57,248 p=1227 u=root |  Friday 27 April 2018  17:42:57 +0800 (0:00:01.539)       0:06:51.412 ********** 
2018-04-27 17:43:10,373 p=1227 u=root |  changed: [controller]
2018-04-27 17:43:10,377 p=1227 u=root |  TASK [Environment : install rabbitmq] ******************************************
2018-04-27 17:43:10,378 p=1227 u=root |  Friday 27 April 2018  17:43:10 +0800 (0:00:13.129)       0:07:04.541 ********** 
2018-04-27 17:43:40,805 p=1227 u=root |  changed: [controller]
2018-04-27 17:43:40,812 p=1227 u=root |  TASK [Environment : start rabbitmq-server] *************************************
2018-04-27 17:43:40,813 p=1227 u=root |  Friday 27 April 2018  17:43:40 +0800 (0:00:30.434)       0:07:34.976 ********** 
2018-04-27 17:43:46,785 p=1227 u=root |  changed: [controller]
2018-04-27 17:43:46,790 p=1227 u=root |  TASK [Environment : useradd openstack] *****************************************
2018-04-27 17:43:46,790 p=1227 u=root |  Friday 27 April 2018  17:43:46 +0800 (0:00:05.977)       0:07:40.954 ********** 
2018-04-27 17:43:52,511 p=1227 u=root |  changed: [controller]
2018-04-27 17:43:52,518 p=1227 u=root |  TASK [Environment : install Memcached] *****************************************
2018-04-27 17:43:52,519 p=1227 u=root |  Friday 27 April 2018  17:43:52 +0800 (0:00:05.728)       0:07:46.682 ********** 
2018-04-27 17:44:02,424 p=1227 u=root |  changed: [controller] => (item=[u'memcached', u'python-memcached'])
2018-04-27 17:44:02,428 p=1227 u=root |  TASK [Environment : modify the /etc/sysconfig/memcached file] ******************
2018-04-27 17:44:02,429 p=1227 u=root |  Friday 27 April 2018  17:44:02 +0800 (0:00:09.909)       0:07:56.592 ********** 
2018-04-27 17:44:02,818 p=1227 u=root |  changed: [controller]
2018-04-27 17:44:02,822 p=1227 u=root |  TASK [Environment : restart memcached] *****************************************
2018-04-27 17:44:02,823 p=1227 u=root |  Friday 27 April 2018  17:44:02 +0800 (0:00:00.394)       0:07:56.986 ********** 
2018-04-27 17:44:03,798 p=1227 u=root |  changed: [controller]
2018-04-27 17:44:03,803 p=1227 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-27 17:44:03,803 p=1227 u=root |  Friday 27 April 2018  17:44:03 +0800 (0:00:00.980)       0:07:57.967 ********** 
2018-04-27 17:44:04,502 p=1227 u=root |  fatal: [controller]: FAILED! => {"changed": false, "failed": true, "msg": "the python mysqldb module is required"}
2018-04-27 17:44:04,506 p=1227 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:44:04,506 p=1227 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:44:04,507 p=1227 u=root |  controller                 : ok=17   changed=17   unreachable=0    failed=1   
2018-04-27 17:44:04,507 p=1227 u=root |  Friday 27 April 2018  17:44:04 +0800 (0:00:00.703)       0:07:58.671 ********** 
2018-04-27 17:44:04,508 p=1227 u=root |  =============================================================================== 
2018-04-27 17:44:04,508 p=1227 u=root |  Environment : start openstack storehouse and install openstack client,openstack-selinux - 325.64s
2018-04-27 17:44:04,508 p=1227 u=root |  Environment : install sql ---------------------------------------------- 47.86s
2018-04-27 17:44:04,509 p=1227 u=root |  Environment : install rabbitmq ----------------------------------------- 30.43s
2018-04-27 17:44:04,509 p=1227 u=root |  Environment : install chrony ------------------------------------------- 16.89s
2018-04-27 17:44:04,509 p=1227 u=root |  Environment : restart mariadb ------------------------------------------ 13.13s
2018-04-27 17:44:04,510 p=1227 u=root |  Environment : set hostname --------------------------------------------- 11.20s
2018-04-27 17:44:04,510 p=1227 u=root |  Environment : install Memcached ----------------------------------------- 9.91s
2018-04-27 17:44:04,510 p=1227 u=root |  Environment : start rabbitmq-server ------------------------------------- 5.98s
2018-04-27 17:44:04,510 p=1227 u=root |  Environment : useradd openstack ----------------------------------------- 5.73s
2018-04-27 17:44:04,511 p=1227 u=root |  Environment : install centos-release-openstack-newton ------------------- 3.76s
2018-04-27 17:44:04,511 p=1227 u=root |  Environment : restart NTP ----------------------------------------------- 1.82s
2018-04-27 17:44:04,511 p=1227 u=root |  Environment : add mariadb_openstack.cnf file ---------------------------- 1.54s
2018-04-27 17:44:04,512 p=1227 u=root |  Environment : change the /etc/chrony.conf file -------------------------- 1.44s
2018-04-27 17:44:04,512 p=1227 u=root |  Environment : restart memcached ----------------------------------------- 0.98s
2018-04-27 17:44:04,512 p=1227 u=root |  Environment : add host file --------------------------------------------- 0.73s
2018-04-27 17:44:04,513 p=1227 u=root |  Identity : create keystone database ------------------------------------- 0.70s
2018-04-27 17:44:04,513 p=1227 u=root |  Environment : change the /etc/chrony.conf file -------------------------- 0.42s
2018-04-27 17:44:04,513 p=1227 u=root |  Environment : modify the /etc/sysconfig/memcached file ------------------ 0.39s
2018-04-27 17:48:21,110 p=1434 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:48:21,255 p=1434 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-27 17:48:21,256 p=1434 u=root |  Friday 27 April 2018  17:48:21 +0800 (0:00:00.159)       0:00:00.160 ********** 
2018-04-27 17:48:32,110 p=1434 u=root |  fatal: [controller]: FAILED! => {"changed": false, "failed": true, "msg": "the python mysqldb module is required"}
2018-04-27 17:48:32,115 p=1434 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:48:32,116 p=1434 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:48:32,116 p=1434 u=root |  controller                 : ok=0    changed=0    unreachable=0    failed=1   
2018-04-27 17:48:32,117 p=1434 u=root |  Friday 27 April 2018  17:48:32 +0800 (0:00:10.861)       0:00:11.021 ********** 
2018-04-27 17:48:32,117 p=1434 u=root |  =============================================================================== 
2018-04-27 17:48:32,118 p=1434 u=root |  Identity : create keystone database ------------------------------------ 10.86s
2018-04-27 17:51:36,796 p=1499 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:51:36,927 p=1499 u=root |  TASK [Identity : install python mysql bindings] ********************************
2018-04-27 17:51:36,928 p=1499 u=root |  Friday 27 April 2018  17:51:36 +0800 (0:00:00.144)       0:00:00.145 ********** 
2018-04-27 17:51:49,122 p=1499 u=root |  fatal: [controller]: FAILED! => {"changed": false, "failed": true, "msg": "No package matching 'python-mysqldb' found available, installed or updated", "rc": 126, "results": ["No package matching 'python-mysqldb' found available, installed or updated"]}
2018-04-27 17:51:49,126 p=1499 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:51:49,127 p=1499 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:51:49,127 p=1499 u=root |  controller                 : ok=0    changed=0    unreachable=0    failed=1   
2018-04-27 17:51:49,128 p=1499 u=root |  Friday 27 April 2018  17:51:49 +0800 (0:00:12.199)       0:00:12.344 ********** 
2018-04-27 17:51:49,128 p=1499 u=root |  =============================================================================== 
2018-04-27 17:51:49,129 p=1499 u=root |  Identity : install python mysql bindings ------------------------------- 12.20s
2018-04-27 17:52:57,647 p=1532 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:52:57,700 p=1532 u=root |  TASK [Identity : install python mysql bindings] ********************************
2018-04-27 17:52:57,701 p=1532 u=root |  Friday 27 April 2018  17:52:57 +0800 (0:00:00.059)       0:00:00.059 ********** 
2018-04-27 17:53:08,469 p=1532 u=root |  fatal: [controller]: FAILED! => {"changed": false, "failed": true, "msg": "Unable to find any of pip2, pip to use.  pip needs to be installed."}
2018-04-27 17:53:08,474 p=1532 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:53:08,474 p=1532 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:53:08,475 p=1532 u=root |  controller                 : ok=0    changed=0    unreachable=0    failed=1   
2018-04-27 17:53:08,475 p=1532 u=root |  Friday 27 April 2018  17:53:08 +0800 (0:00:10.774)       0:00:10.834 ********** 
2018-04-27 17:53:08,476 p=1532 u=root |  =============================================================================== 
2018-04-27 17:53:08,476 p=1532 u=root |  Identity : install python mysql bindings ------------------------------- 10.78s
2018-04-27 17:54:18,040 p=1565 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:54:18,093 p=1565 u=root |  TASK [Identity : install pip] **************************************************
2018-04-27 17:54:18,093 p=1565 u=root |  Friday 27 April 2018  17:54:18 +0800 (0:00:00.058)       0:00:00.058 ********** 
2018-04-27 17:54:37,107 p=1565 u=root |  changed: [controller]
2018-04-27 17:54:37,113 p=1565 u=root |  TASK [Identity : install python mysql bindings] ********************************
2018-04-27 17:54:37,114 p=1565 u=root |  Friday 27 April 2018  17:54:37 +0800 (0:00:19.020)       0:00:19.078 ********** 
2018-04-27 17:54:48,491 p=1565 u=root |  fatal: [controller]: FAILED! => {"changed": false, "cmd": "/usr/bin/pip2 install MySQL-python", "failed": true, "msg": "stdout: Collecting MySQL-python\n  Downloading https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip (108kB)\n    Complete output from command python setup.py egg_info:\n    sh: mysql_config: command not found\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-8XI_yY/MySQL-python/setup.py\", line 17, in <module>\n        metadata, options = get_config()\n      File \"/tmp/pip-build-8XI_yY/MySQL-python/setup_posix.py\", line 43, in get_config\n        libs = mysql_config(\"libs_r\")\n      File \"/tmp/pip-build-8XI_yY/MySQL-python/setup_posix.py\", line 25, in mysql_config\n        raise EnvironmentError(\"%s not found\" % (mysql_config.path,))\n    EnvironmentError: mysql_config not found\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-8XI_yY/MySQL-python/\nYou are using pip version 8.1.2, however version 10.0.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n"}
2018-04-27 17:54:48,496 p=1565 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:54:48,497 p=1565 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:54:48,497 p=1565 u=root |  controller                 : ok=1    changed=1    unreachable=0    failed=1   
2018-04-27 17:54:48,498 p=1565 u=root |  Friday 27 April 2018  17:54:48 +0800 (0:00:11.383)       0:00:30.462 ********** 
2018-04-27 17:54:48,498 p=1565 u=root |  =============================================================================== 
2018-04-27 17:54:48,499 p=1565 u=root |  Identity : install pip ------------------------------------------------- 19.02s
2018-04-27 17:54:48,499 p=1565 u=root |  Identity : install python mysql bindings ------------------------------- 11.38s
2018-04-27 17:56:24,113 p=1603 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 17:56:24,166 p=1603 u=root |  TASK [Identity : install pip] **************************************************
2018-04-27 17:56:24,166 p=1603 u=root |  Friday 27 April 2018  17:56:24 +0800 (0:00:00.058)       0:00:00.058 ********** 
2018-04-27 17:56:35,700 p=1603 u=root |  ok: [controller]
2018-04-27 17:56:35,703 p=1603 u=root |  TASK [Identity : upgrade] ******************************************************
2018-04-27 17:56:35,704 p=1603 u=root |  Friday 27 April 2018  17:56:35 +0800 (0:00:11.537)       0:00:11.596 ********** 
2018-04-27 17:56:42,384 p=1603 u=root |  changed: [controller]
2018-04-27 17:56:42,387 p=1603 u=root |  TASK [Identity : install python mysql bindings] ********************************
2018-04-27 17:56:42,388 p=1603 u=root |  Friday 27 April 2018  17:56:42 +0800 (0:00:06.683)       0:00:18.279 ********** 
2018-04-27 17:56:44,992 p=1603 u=root |  fatal: [controller]: FAILED! => {"changed": false, "cmd": "/usr/bin/pip2 install MySQL-python", "failed": true, "msg": "stdout: Collecting MySQL-python\n  Using cached https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip\n    Complete output from command python setup.py egg_info:\n    sh: mysql_config: command not found\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-install-KCozMb/MySQL-python/setup.py\", line 17, in <module>\n        metadata, options = get_config()\n      File \"/tmp/pip-install-KCozMb/MySQL-python/setup_posix.py\", line 43, in get_config\n        libs = mysql_config(\"libs_r\")\n      File \"/tmp/pip-install-KCozMb/MySQL-python/setup_posix.py\", line 25, in mysql_config\n        raise EnvironmentError(\"%s not found\" % (mysql_config.path,))\n    EnvironmentError: mysql_config not found\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-KCozMb/MySQL-python/\n"}
2018-04-27 17:56:45,000 p=1603 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 17:56:45,000 p=1603 u=root |  PLAY RECAP *********************************************************************
2018-04-27 17:56:45,000 p=1603 u=root |  controller                 : ok=2    changed=1    unreachable=0    failed=1   
2018-04-27 17:56:45,001 p=1603 u=root |  Friday 27 April 2018  17:56:44 +0800 (0:00:02.613)       0:00:20.893 ********** 
2018-04-27 17:56:45,001 p=1603 u=root |  =============================================================================== 
2018-04-27 17:56:45,002 p=1603 u=root |  Identity : install pip ------------------------------------------------- 11.54s
2018-04-27 17:56:45,002 p=1603 u=root |  Identity : upgrade ------------------------------------------------------ 6.68s
2018-04-27 17:56:45,002 p=1603 u=root |  Identity : install python mysql bindings -------------------------------- 2.61s
2018-04-27 18:01:37,014 p=1665 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:01:37,064 p=1665 u=root |  TASK [Identity : install pip] **************************************************
2018-04-27 18:01:37,064 p=1665 u=root |  Friday 27 April 2018  18:01:37 +0800 (0:00:00.055)       0:00:00.055 ********** 
2018-04-27 18:01:48,836 p=1665 u=root |  ok: [controller]
2018-04-27 18:01:48,839 p=1665 u=root |  TASK [Identity : upgrade] ******************************************************
2018-04-27 18:01:48,840 p=1665 u=root |  Friday 27 April 2018  18:01:48 +0800 (0:00:11.775)       0:00:11.830 ********** 
2018-04-27 18:01:51,861 p=1665 u=root |  changed: [controller]
2018-04-27 18:01:51,864 p=1665 u=root |  TASK [Identity : install python-devel] *****************************************
2018-04-27 18:01:51,865 p=1665 u=root |  Friday 27 April 2018  18:01:51 +0800 (0:00:03.025)       0:00:14.855 ********** 
2018-04-27 18:02:07,910 p=1665 u=root |  changed: [controller]
2018-04-27 18:02:07,914 p=1665 u=root |  TASK [Identity : install python mysql bindings] ********************************
2018-04-27 18:02:07,914 p=1665 u=root |  Friday 27 April 2018  18:02:07 +0800 (0:00:16.049)       0:00:30.905 ********** 
2018-04-27 18:02:10,820 p=1665 u=root |  fatal: [controller]: FAILED! => {"changed": false, "cmd": "/usr/bin/pip2 install MySQL-python", "failed": true, "msg": "stdout: Collecting MySQL-python\n  Using cached https://files.pythonhosted.org/packages/a5/e9/51b544da85a36a68debe7a7091f068d802fc515a3a202652828c73453cad/MySQL-python-1.2.5.zip\n    Complete output from command python setup.py egg_info:\n    sh: mysql_config: command not found\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-install-MA0N94/MySQL-python/setup.py\", line 17, in <module>\n        metadata, options = get_config()\n      File \"/tmp/pip-install-MA0N94/MySQL-python/setup_posix.py\", line 43, in get_config\n        libs = mysql_config(\"libs_r\")\n      File \"/tmp/pip-install-MA0N94/MySQL-python/setup_posix.py\", line 25, in mysql_config\n        raise EnvironmentError(\"%s not found\" % (mysql_config.path,))\n    EnvironmentError: mysql_config not found\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-MA0N94/MySQL-python/\n"}
2018-04-27 18:02:10,824 p=1665 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 18:02:10,824 p=1665 u=root |  PLAY RECAP *********************************************************************
2018-04-27 18:02:10,825 p=1665 u=root |  controller                 : ok=3    changed=2    unreachable=0    failed=1   
2018-04-27 18:02:10,825 p=1665 u=root |  Friday 27 April 2018  18:02:10 +0800 (0:00:02.910)       0:00:33.816 ********** 
2018-04-27 18:02:10,826 p=1665 u=root |  =============================================================================== 
2018-04-27 18:02:10,826 p=1665 u=root |  Identity : install python-devel ---------------------------------------- 16.05s
2018-04-27 18:02:10,826 p=1665 u=root |  Identity : install pip ------------------------------------------------- 11.78s
2018-04-27 18:02:10,827 p=1665 u=root |  Identity : upgrade ------------------------------------------------------ 3.03s
2018-04-27 18:02:10,827 p=1665 u=root |  Identity : install python mysql bindings -------------------------------- 2.91s
2018-04-27 18:10:54,974 p=1715 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:10:55,025 p=1715 u=root |  TASK [Identity : install depends] **********************************************
2018-04-27 18:10:55,026 p=1715 u=root |  Friday 27 April 2018  18:10:55 +0800 (0:00:00.056)       0:00:00.056 ********** 
2018-04-27 18:11:08,585 p=1715 u=root |  changed: [controller] => (item=[u'python-pip', u'python-devel', u'MySQL-python'])
2018-04-27 18:11:08,589 p=1715 u=root |  TASK [Identity : create keystone database] *************************************
2018-04-27 18:11:08,590 p=1715 u=root |  Friday 27 April 2018  18:11:08 +0800 (0:00:13.563)       0:00:13.620 ********** 
2018-04-27 18:11:09,433 p=1715 u=root |  changed: [controller]
2018-04-27 18:11:09,437 p=1715 u=root |  TASK [Identity : Grant access to the DB for keystone] **************************
2018-04-27 18:11:09,438 p=1715 u=root |  Friday 27 April 2018  18:11:09 +0800 (0:00:00.847)       0:00:14.468 ********** 
2018-04-27 18:11:10,199 p=1715 u=root |  changed: [controller] => (item=localhost)
2018-04-27 18:11:10,601 p=1715 u=root |  changed: [controller] => (item=%)
2018-04-27 18:11:10,605 p=1715 u=root |  TASK [Identity : Install packages] *********************************************
2018-04-27 18:11:10,605 p=1715 u=root |  Friday 27 April 2018  18:11:10 +0800 (0:00:01.167)       0:00:15.635 ********** 
2018-04-27 18:11:40,815 p=1715 u=root |  changed: [controller] => (item=[u'openstack-keystone', u'httpd', u'mod_wsgi'])
2018-04-27 18:11:40,820 p=1715 u=root |  TASK [Identity : modify the /etc/keystone/keystone.conf file] ******************
2018-04-27 18:11:40,820 p=1715 u=root |  Friday 27 April 2018  18:11:40 +0800 (0:00:30.215)       0:00:45.851 ********** 
2018-04-27 18:11:41,555 p=1715 u=root |  changed: [controller] => (item={u'value': u'connection = mysql+pymysql://keystone:123456@controller/keystone', u'key': u'^#connection ='})
2018-04-27 18:11:41,912 p=1715 u=root |  changed: [controller] => (item={u'value': u'provider = fernet', u'key': u'^#provider = uuid'})
2018-04-27 18:11:41,918 p=1715 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 18:11:41,919 p=1715 u=root |  Friday 27 April 2018  18:11:41 +0800 (0:00:01.098)       0:00:46.949 ********** 
2018-04-27 18:11:44,380 p=1715 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "keystone-manage db_sync", "keystone"], "delta": "0:00:01.747705", "end": "2018-04-27 18:12:08.712184", "failed": true, "failed_when_result": true, "rc": 1, "start": "2018-04-27 18:12:06.964479", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-27 18:11:44,384 p=1715 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 18:11:44,385 p=1715 u=root |  PLAY RECAP *********************************************************************
2018-04-27 18:11:44,385 p=1715 u=root |  controller                 : ok=5    changed=5    unreachable=0    failed=1   
2018-04-27 18:11:44,386 p=1715 u=root |  Friday 27 April 2018  18:11:44 +0800 (0:00:02.466)       0:00:49.416 ********** 
2018-04-27 18:11:44,386 p=1715 u=root |  =============================================================================== 
2018-04-27 18:11:44,386 p=1715 u=root |  Identity : Install packages -------------------------------------------- 30.22s
2018-04-27 18:11:44,387 p=1715 u=root |  Identity : install depends --------------------------------------------- 13.56s
2018-04-27 18:11:44,387 p=1715 u=root |  Identity : populate the identity service -------------------------------- 2.47s
2018-04-27 18:11:44,387 p=1715 u=root |  Identity : Grant access to the DB for keystone -------------------------- 1.17s
2018-04-27 18:11:44,387 p=1715 u=root |  Identity : modify the /etc/keystone/keystone.conf file ------------------ 1.10s
2018-04-27 18:11:44,388 p=1715 u=root |  Identity : create keystone database ------------------------------------- 0.85s
2018-04-27 18:18:30,478 p=1791 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:18:30,528 p=1791 u=root |  TASK [Identity : install depends] **********************************************
2018-04-27 18:18:30,528 p=1791 u=root |  Friday 27 April 2018  18:18:30 +0800 (0:00:00.054)       0:00:00.054 ********** 
2018-04-27 18:18:42,131 p=1791 u=root |  ok: [controller] => (item=[u'python-pip', u'python-devel', u'MySQL-python'])
2018-04-27 18:18:42,136 p=1791 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 18:18:42,136 p=1791 u=root |  Friday 27 April 2018  18:18:42 +0800 (0:00:11.607)       0:00:11.662 ********** 
2018-04-27 18:18:44,456 p=1791 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": "su -s /bin/sh -c \"keystone-manage db_sync\" keystone", "delta": "0:00:01.632086", "end": "2018-04-27 18:19:08.824530", "failed": true, "rc": 1, "start": "2018-04-27 18:19:07.192444", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using 'become', 'become_method', and 'become_user' rather than running su"]}
2018-04-27 18:18:44,462 p=1791 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 18:18:44,463 p=1791 u=root |  PLAY RECAP *********************************************************************
2018-04-27 18:18:44,463 p=1791 u=root |  controller                 : ok=1    changed=0    unreachable=0    failed=1   
2018-04-27 18:18:44,464 p=1791 u=root |  Friday 27 April 2018  18:18:44 +0800 (0:00:02.327)       0:00:13.989 ********** 
2018-04-27 18:18:44,464 p=1791 u=root |  =============================================================================== 
2018-04-27 18:18:44,465 p=1791 u=root |  Identity : install depends --------------------------------------------- 11.61s
2018-04-27 18:18:44,465 p=1791 u=root |  Identity : populate the identity service -------------------------------- 2.33s
2018-04-27 18:22:07,302 p=1830 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:22:07,400 p=1830 u=root |  TASK [Identity : install depends] **********************************************
2018-04-27 18:22:07,400 p=1830 u=root |  Friday 27 April 2018  18:22:07 +0800 (0:00:00.106)       0:00:00.106 ********** 
2018-04-27 18:22:19,563 p=1830 u=root |  ok: [controller] => (item=[u'python-pip', u'python-devel', u'MySQL-python'])
2018-04-27 18:22:19,569 p=1830 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 18:22:19,570 p=1830 u=root |  Friday 27 April 2018  18:22:19 +0800 (0:00:12.169)       0:00:12.276 ********** 
2018-04-27 18:22:19,781 p=1830 u=root |   [ERROR]: User interrupted execution

2018-04-27 18:22:40,012 p=1880 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:22:40,060 p=1880 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 18:22:40,061 p=1880 u=root |  Friday 27 April 2018  18:22:40 +0800 (0:00:00.053)       0:00:00.053 ********** 
2018-04-27 18:22:43,283 p=1880 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": "/bin/sh -c \"keystone-manage db_sync\" keystone", "delta": "0:00:02.631145", "end": "2018-04-27 18:23:07.652189", "failed": true, "rc": 1, "start": "2018-04-27 18:23:05.021044", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-04-27 18:22:43,287 p=1880 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 18:22:43,288 p=1880 u=root |  PLAY RECAP *********************************************************************
2018-04-27 18:22:43,288 p=1880 u=root |  controller                 : ok=0    changed=0    unreachable=0    failed=1   
2018-04-27 18:22:43,289 p=1880 u=root |  Friday 27 April 2018  18:22:43 +0800 (0:00:03.227)       0:00:03.281 ********** 
2018-04-27 18:22:43,289 p=1880 u=root |  =============================================================================== 
2018-04-27 18:22:43,290 p=1880 u=root |  Identity : populate the identity service -------------------------------- 3.23s
2018-04-27 18:28:20,085 p=1895 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 18:28:20,133 p=1895 u=root |  TASK [Identity : populate the identity service] ********************************
2018-04-27 18:28:20,133 p=1895 u=root |  Friday 27 April 2018  18:28:20 +0800 (0:00:00.052)       0:00:00.052 ********** 
2018-04-27 18:28:39,678 p=1895 u=root |  changed: [controller]
2018-04-27 18:28:39,685 p=1895 u=root |  TASK [Identity : Initialize Fernet key repositories] ***************************
2018-04-27 18:28:39,685 p=1895 u=root |  Friday 27 April 2018  18:28:39 +0800 (0:00:19.551)       0:00:19.604 ********** 
2018-04-27 18:28:40,481 p=1895 u=root |   [ERROR]: User interrupted execution

2018-04-27 19:33:35,041 p=2160 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 19:33:35,156 p=2160 u=root |  TASK [Identity : install depends] **********************************************
2018-04-27 19:33:35,157 p=2160 u=root |  Friday 27 April 2018  19:33:35 +0800 (0:00:00.124)       0:00:00.124 ********** 
2018-04-27 19:33:49,283 p=2160 u=root |   [ERROR]: User interrupted execution

2018-04-27 19:34:25,913 p=2227 u=root |  PLAY [install openstack] *******************************************************
2018-04-27 19:34:25,979 p=2227 u=root |  TASK [Environment : set hostname] **********************************************
2018-04-27 19:34:25,979 p=2227 u=root |  Friday 27 April 2018  19:34:25 +0800 (0:00:00.070)       0:00:00.070 ********** 
2018-04-27 19:34:31,925 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:31,932 p=2227 u=root |  TASK [Environment : add host file] *********************************************
2018-04-27 19:34:31,933 p=2227 u=root |  Friday 27 April 2018  19:34:31 +0800 (0:00:05.953)       0:00:06.024 ********** 
2018-04-27 19:34:32,660 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:32,664 p=2227 u=root |  TASK [Environment : install chrony] ********************************************
2018-04-27 19:34:32,665 p=2227 u=root |  Friday 27 April 2018  19:34:32 +0800 (0:00:00.731)       0:00:06.756 ********** 
2018-04-27 19:34:37,791 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:37,796 p=2227 u=root |  TASK [Environment : change the /etc/chrony.conf file] **************************
2018-04-27 19:34:37,797 p=2227 u=root |  Friday 27 April 2018  19:34:37 +0800 (0:00:05.131)       0:00:11.888 ********** 
2018-04-27 19:34:38,193 p=2227 u=root |  changed: [controller] => (item={u'regexp': u'server 0.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 19:34:38,510 p=2227 u=root |  changed: [controller] => (item={u'regexp': u'server 1.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 19:34:38,826 p=2227 u=root |  changed: [controller] => (item={u'regexp': u'server 2.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 19:34:39,140 p=2227 u=root |  changed: [controller] => (item={u'regexp': u'server 3.centos.pool.ntp.org iburst', u'line': u'server cn.pool.ntp.org'})
2018-04-27 19:34:39,150 p=2227 u=root |  TASK [Environment : change the /etc/chrony.conf file] **************************
2018-04-27 19:34:39,150 p=2227 u=root |  Friday 27 April 2018  19:34:39 +0800 (0:00:01.353)       0:00:13.241 ********** 
2018-04-27 19:34:39,516 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:39,522 p=2227 u=root |  TASK [Environment : restart NTP] ***********************************************
2018-04-27 19:34:39,523 p=2227 u=root |  Friday 27 April 2018  19:34:39 +0800 (0:00:00.372)       0:00:13.614 ********** 
2018-04-27 19:34:41,103 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:41,108 p=2227 u=root |  TASK [Environment : install centos-release-openstack-newton] *******************
2018-04-27 19:34:41,108 p=2227 u=root |  Friday 27 April 2018  19:34:41 +0800 (0:00:01.585)       0:00:15.199 ********** 
2018-04-27 19:34:43,885 p=2227 u=root |  changed: [controller]
2018-04-27 19:34:43,892 p=2227 u=root |  TASK [Environment : start openstack storehouse and install openstack client,openstack-selinux] ***
2018-04-27 19:34:43,893 p=2227 u=root |  Friday 27 April 2018  19:34:43 +0800 (0:00:02.784)       0:00:17.984 ********** 
2018-04-27 19:39:56,730 p=2227 u=root |  changed: [controller] => (item=[u'python-openstackclient', u'openstack-selinux'])
2018-04-27 19:39:56,737 p=2227 u=root |  TASK [Environment : install sql] ***********************************************
2018-04-27 19:39:56,737 p=2227 u=root |  Friday 27 April 2018  19:39:56 +0800 (0:05:12.844)       0:05:30.828 ********** 
2018-04-27 19:40:39,190 p=2227 u=root |  changed: [controller] => (item=[u'mariadb', u'mariadb-server', u'python2-PyMySQL'])
2018-04-27 19:40:39,197 p=2227 u=root |  TASK [Environment : add mariadb_openstack.cnf file] ****************************
2018-04-27 19:40:39,198 p=2227 u=root |  Friday 27 April 2018  19:40:39 +0800 (0:00:42.460)       0:06:13.289 ********** 
2018-04-27 19:40:40,571 p=2227 u=root |  changed: [controller]
2018-04-27 19:40:40,576 p=2227 u=root |  TASK [Environment : change database password] **********************************
2018-04-27 19:40:40,577 p=2227 u=root |  Friday 27 April 2018  19:40:40 +0800 (0:00:01.379)       0:06:14.668 ********** 
2018-04-27 19:40:41,263 p=2227 u=root |  fatal: [controller]: FAILED! => {"changed": true, "cmd": ["mysqladmin", "-u", "root", "password", "123456"], "delta": "0:00:00.018248", "end": "2018-04-27 11:41:05.413737", "failed": true, "rc": 1, "start": "2018-04-27 11:41:05.395489", "stderr": "\u0007mysqladmin: connect to server at 'localhost' failed\nerror: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2 \"No such file or directory\")'\nCheck that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!", "stdout": "", "stdout_lines": [], "warnings": []}
2018-04-27 19:40:41,268 p=2227 u=root |  	to retry, use: --limit @/root/openstack/openstack-ansible/playbooks/openstack.retry

2018-04-27 19:40:41,268 p=2227 u=root |  PLAY RECAP *********************************************************************
2018-04-27 19:40:41,269 p=2227 u=root |  controller                 : ok=10   changed=10   unreachable=0    failed=1   
2018-04-27 19:40:41,270 p=2227 u=root |  Friday 27 April 2018  19:40:41 +0800 (0:00:00.692)       0:06:15.361 ********** 
2018-04-27 19:40:41,271 p=2227 u=root |  =============================================================================== 
2018-04-27 19:40:41,271 p=2227 u=root |  Environment : start openstack storehouse and install openstack client,openstack-selinux - 312.84s
2018-04-27 19:40:41,271 p=2227 u=root |  Environment : install sql ---------------------------------------------- 42.46s
2018-04-27 19:40:41,272 p=2227 u=root |  Environment : set hostname ---------------------------------------------- 5.95s
2018-04-27 19:40:41,272 p=2227 u=root |  Environment : install chrony -------------------------------------------- 5.13s
2018-04-27 19:40:41,272 p=2227 u=root |  Environment : install centos-release-openstack-newton ------------------- 2.78s
2018-04-27 19:40:41,273 p=2227 u=root |  Environment : restart NTP ----------------------------------------------- 1.59s
2018-04-27 19:40:41,273 p=2227 u=root |  Environment : add mariadb_openstack.cnf file ---------------------------- 1.38s
2018-04-27 19:40:41,273 p=2227 u=root |  Environment : change the /etc/chrony.conf file -------------------------- 1.35s
2018-04-27 19:40:41,273 p=2227 u=root |  Environment : add host file --------------------------------------------- 0.73s
2018-04-27 19:40:41,274 p=2227 u=root |  Environment : change database password ---------------------------------- 0.69s
2018-04-27 19:40:41,274 p=2227 u=root |  Environment : change the /etc/chrony.conf file -------------------------- 0.37s
